<div class="page">
  <div class="panel">
    <button [ngStyle]="{ 'opacity': !exchangeFlag? '0.5' : '1'}" (click)="switchToExchange()" class="profit-button" >
      E X C H A N G E
    </button>
    <button [ngStyle]="{ 'opacity': !agentFlag? '0.5' : '1'}" (click)="switchToAgent()" class="profit-button" >
      A G E N T
    </button>
    <button [ngStyle]="{ 'opacity': !taxFlag? '0.5' : '1'}" (click)="switchToTax()" class="tax-button" >
      T A X
    </button>
     <!-- Exchange Table -->

    <!-- E X C H A N G E -->

    <div class="table"  >
      <div *ngIf="exchangeFlag" class="rowCommission">
        <div class="kolona">
          <strong>{{commissionsByMark[2].commission}} {{commissionsByMark[2].currencyMark}}</strong>
        </div>
        <div class="kolona">
          <strong>{{commissionsByMark[1].commission}} {{commissionsByMark[1].currencyMark}}</strong>
        </div>
        <div class="kolona">
          <strong>{{commissionsByMark[0].commission}} {{commissionsByMark[0].currencyMark}}</strong>
        </div>
      </div>
      <mat-table mat-table *ngIf="exchangeFlag" [dataSource]="commissions" matSort>
        <!-- Amount Column -->
        <ng-container *ngFor="let column of commissionColumns" [matColumnDef]="column">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="custom-header-cell">
          {{ column | uppercase }}
        </mat-header-cell>
        <mat-cell *matCellDef="let element"
              class="custom-cell"
              [ngStyle]="{
                'color': column === 'change' ? (element[column] > 0 ? '#33d17a' : '#ed333b') : 'inherit',
                'font-weight': column === 'ticker' ? 'bold' : 'normal',
                'cursor': column === 'ticker' ? 'pointer' : 'default'

              }">
        <ng-container matColumnDef="accountFrom">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Account From </th>
          <td mat-cell *matCellDef="let element" class="accountFrom-column"> {{element.accountFrom}} </td>
        </ng-container>
        <!-- Currency Column -->
        <ng-container matColumnDef="commission">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Commission </th>
          <td mat-cell *matCellDef="let element" class="commission-column"> {{element.commission}} </td>
        </ng-container>
        <ng-container matColumnDef="currencyMark">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Mark </th>
          <td mat-cell *matCellDef="let element" class="currencyMark-column"> {{element.currencyMark}} </td>
        </ng-container>
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Date </th>
          <td mat-cell *matCellDef="let element" class="date-column"> {{formatDate(element.date)}} </td>
        </ng-container>
        </mat-cell>
        </ng-container>
          <mat-header-row mat-header-row *matHeaderRowDef="commissionColumns"></mat-header-row>
          <mat-row mat-row *matRowDef="let row; columns: commissionColumns;"></mat-row>
      </mat-table>


    <!-- A G E N T S -->

      <mat-table mat-table *ngIf="agentFlag" [dataSource]="agents" matSort>
        <!-- ID Column -->
        <ng-container *ngFor="let column of agentColumns" [matColumnDef]="column">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="custom-header-cell">
          {{ column | uppercase }}
        </mat-header-cell>
        <mat-cell *matCellDef="let element"
              class="custom-cell"
              [ngStyle]="{
                'color': column === 'change' ? (element[column] > 0 ? '#33d17a' : '#ed333b') : 'inherit',
                'font-weight': column === 'ticker' ? 'bold' : 'normal',
                'cursor': column === 'ticker' ? 'pointer' : 'default'

              }">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Agent ID </th>
          <td mat-cell *matCellDef="let element" class="amount-column"> {{element.id}} </td>
        </ng-container>
        <!-- Total Amount Column -->
        <ng-container matColumnDef="totalAmount">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Total Amount </th>
          <td mat-cell *matCellDef="let element" class="amount-column"> {{element.totalAmount}} </td>
        </ng-container>
        </mat-cell>
        </ng-container>
        <mat-header-row mat-header-row *matHeaderRowDef="agentColumns"></mat-header-row>
        <mat-row mat-row *matRowDef="let row; columns: agentColumns;"></mat-row>
      </mat-table>

    <!-- T A X -->

      <mat-table mat-table *ngIf="taxFlag" [dataSource]="taxes" matSort>
        <!-- ID Column -->
        <ng-container *ngFor="let column of taxesColumns" [matColumnDef]="column">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="custom-header-cell">
          {{ column | uppercase }}
        </mat-header-cell>
        <mat-cell *matCellDef="let element"
              class="custom-cell"
              [ngStyle]="{
                'color': column === 'change' ? (element[column] > 0 ? '#33d17a' : '#ed333b') : 'inherit',
                'font-weight': column === 'ticker' ? 'bold' : 'normal',
                'cursor': column === 'ticker' ? 'pointer' : 'default'

              }">
        <ng-container matColumnDef="taxStockId">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Tax Id </th>
          <td mat-cell *matCellDef="let element" class="taxStockId-column"> {{element.taxtStockId}} </td>
        </ng-container>
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Amount </th>
          <td mat-cell *matCellDef="let element" class="amount-column"> {{element.amount}} </td>
        </ng-container>
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef class="table-header"> Date </th>
          <td mat-cell *matCellDef="let element" class="date-column"> {{formatDate(element.date)}} </td>
        </ng-container>
        </mat-cell>
        </ng-container>
        <mat-header-row mat-header-row *matHeaderRowDef="taxesColumns"></mat-header-row>
        <mat-row mat-row *matRowDef="let row; columns: taxesColumns;"></mat-row>
      </mat-table>
    </div>
  </div>
</div>
